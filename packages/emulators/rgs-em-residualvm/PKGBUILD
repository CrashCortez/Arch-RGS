# Maintainer: V0rt3x667 <al-g0l@outlook.com>
pkgname=rgs-em-residualvm
pkgver=0.3.1
pkgrel=1
pkgdesc="A 3D Game Interpreter for LucasArts LUA-based 3D Adventures"
arch=('x86_64')
license=('LGPL')
url="http://www.residualvm.org"
depends=(
  'alsa-lib' 
  'glew' 
  'fluidsynth' 
  'freetype2'
  'hicolor-icon-theme'
  'libjpeg-turbo'
  'libmad' 
  'libmpeg2' 
  'libvorbis'
  'sdl2'
)
source=("https://github.com/residualvm/residualvm/archive/$pkgver.tar.gz")
sha256sums=('515b02129dd374bc9c0b732ddeaaaa3a342cc25ea0ea3c4ccf19141b5d362e1d')
_installdir="/opt/archrgs/emulators/$pkgname"

build() {
  cd "residualvm-$pkgver"
  
  ./configure \
    --prefix="$_installdir" \
    --enable-opengl-shaders \
    --enable-vkeybd \
    --enable-release \
    --disable-debug
  make
}

package() {
  cd "residualvm-$pkgver"
  
  make DESTDIR="$pkgdir/" install
}
