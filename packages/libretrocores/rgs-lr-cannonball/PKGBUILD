# Maintainer: V0rt3x667 <al-g0l@outlook.com>

pkgname=rgs-lr-cannonball
pkgver=352
pkgrel=1
arch=('x86_64')
pkgdesc="Libretro implementation of Cannonball. (Enhanced OutRun Engine)"
url="https://github.com/libretro/cannonball"
license=('custom')
depends=('zlib' 'glibc' 'cmake' 'mesa' 'sdl')
makedepends=('git' 'boost-libs')
source=("$pkgname::git+https://github.com/libretro/cannonball.git")
sha256sums=('SKIP')

pkgver() {
  cd $pkgname

  git rev-list --count HEAD
}

build() {
  cd $pkgname

  make
}

package() {
  cd $pkgname

  install -Dm644 ./cannonball_libretro.so -t "$pkgdir/opt/archrgs/libretrocores/$pkgname"
  install -Dm644 ./docs/license.txt "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
  install -Dm644 ./roms/roms.txt -t "$pkgdir/opt/archrgs/libretrocores/$pkgname"
  cp -r ./res "$pkgdir/opt/archrgs/libretrocores/$pkgname"
}
